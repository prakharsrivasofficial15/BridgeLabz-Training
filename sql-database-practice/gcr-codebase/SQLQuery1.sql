-- CREATE DATABASE DB_NAME;
create database Prakhar;

USE Prakhar;
GO


--DDL Commands
/*
CREATE TABLE table_name (
    column1 datatype [constraints],
    column2 datatype [constraints],
    ...
);
*/

CREATE TABLE Student(
	student_id INT PRIMARY KEY,
	student_name varchar(100) NOT NULL,
	student_email varchar(256) UNIQUE,
	student_age INT CHECK (student_age >= 16),
	created_at DATETIME2(7) DEFAULT SYSDATETIME()
);

--Alter command: 
/*
ALTER TABLE table_name
ADD column_name datatype;
*/
ALTER TABLE Student
ADD phone_number varchar(10);

/*
ALTER TABLE table_name
ADD CONSTRAINT constraint_name constraint_type (column);
*/
ALTER TABLE Student
ADD CONSTRAINT UQ_Student_Phome UNIQUE(phone_number);

/*
EXEC sp_rename 'table.old_column', 'new_column', 'COLUMN';
*/
EXEC sp_rename 'Student.student_name', 'fullName', 'COLUMN';


--Drop Command:
/*
ALTER TABLE table_name
DROP CONSTRAINT constraint_name;
*/

-- Drop UNIQUE constraint
ALTER TABLE Student
DROP CONSTRAINT UQ_Student_Phome;

/*
ALTER TABLE table_name
DROP COLUMN column_name;
*/

-- Drop phone_number column
ALTER TABLE Student
DROP COLUMN phone_number;

--DROP TABLE IF EXISTS Student;




--DML: Insert, Update, DELETE

--INSERT 
/*
INSERT INTO table_name (column1, column2, ...)
VALUES (value1, value2, ...);
*/
INSERT INTO Student
(student_id, student_name, student_email, student_age)
VALUES
(1, 'Prakhar Srivastava', 'prakhar18@gmail.com', 23),
(2, 'Pushpak Singhal', 'pushpak@gmail.com', 22),
(3, 'Ojas Tiwari', 'ojas3@gmail.com', 21),
(4, 'Pradeep Bahadur', 'pradeep4@gmail.com', 23),
(5, 'Abhay Singh', 'abhay5@gmail.com', 20);




INSERT INTO Student
(student_id, student_name, student_age)
VALUES
(6, 'Chirag Patil', 26);


INSERT INTO Student
(student_id, student_name, student_age)
VALUES
(6, 'No Email', 26);


--UPDATE Command:
/*
UPDATE table_name
SET column = value
WHERE condition;
*/
UPDATE Student
SET student_age = 22
WHERE student_id = 3;


UPDATE Student
SET student_age = student_age + 1;


--DELETE Command:
/*
DELETE FROM table_name
WHERE condition;
*/
DELETE FROM Student
where student_age < 18;


DELETE FROM Student
where student_email = 'pradeep4@gmail.com';



--DQL: SELECT, WHERE, ORDER BY, LIMIT

SELECT * FROM Student;


SELECT student_name, student_age
FROM Student;

SELECT student_name FROM Student WHERE student_age > 20;


SELECT * FROM Student WHERE student_name LIKE 'A%';


SELECT * FROM Student ORDER BY student_age DESC;


SELECT TOP 3 * FROM Student ORDER BY student_age DESC;


SELECT * FROM Student where student_email IS NULL;


SELECT * FROM Student WHERE CAST(created_at AS DATE) = CAST(GETDATE() AS DATE);








































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































